<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object and Object Constructor</title>
</head>

<body>
    <script>
        // OBJECT
        const myObject = {
            property: "Value",
            otherProperty: 77,
            "obnoxious property": function () {
                // do stuff
            }
        }

        console.log(myObject.property) // "Value"
        console.log(myObject["obnoxious property"]) // f ()

        // array [] uses number (0, 1, 2 ...) to identify / pick its values
        // object {} uses string ("string1", "string2", "string3" ...) to identify / pick its values
        // obj.string1 and obj.["string"] will identify/pick the value
        // obj.[string] ie without quotes, will make make the string serve as variable

        // inserting a variable into an object
        const variable = "property"
        console.log(myObject.variable) // undefined
        // this searches the object for property with key: variable

        console.log(myObject[variable]) // "Value"
        // this makes the [text] act as place holder variable where 
        // we indicate what property the obj should search for 
        // and in this case, "property" is indicated 
        // so we have myOject["property"] which gave use "Value"



        // CONSTRUCTOR

        // example 1
        const playerOneName = "Tim"
        const playerOneMarker = "X"
        const playerTwoName = "Jenn"
        const playerTwoMarker = "X"
        // example 2
        const playerOne = {
            name: "Tim",
            marker: "X",
            score: 5,
        }
        const playerTwo = {
            name: "Jenn",
            marker: "O",
            score: 10,
        }

        // the beauty of object is that we can write re-usebale fns to access data        
        function printName(player) {
            console.log(player.name)
        }
        printName(playerOne) // "Tim"
        printName(playerTwo) // "Jenn"
        // this would take more efforts if we are to get the names using the example 1 

        // example 2 is even more useful when we dont know what player name to print
        // imagine we are in a game where another function determines the winner from a certain score
        // see the fns below

        function gameOver(winningPlayer) {
            console.log("Congratulations")
            console.log(winningPlayer.name + " Is the winner")
        }

        function keepScore() {
            if (playerOne.score >= 10) {
                gameOver(playerOne)
            } else if (playerTwo.score >= 10) {
                gameOver(playerTwo)
            }
        }

        keepScore()
        // Congratulations
        // Jenn Is the winner


        // CONSTRUCTOR
        // if we have a specific object that we need to duplicate - like players in a game
        // a convinient way to create them is by using constructor

        function Player(name, marker) {
            // const obj = {}
            this.name = name
            this.marker = marker
            this.sayName = function () {
                console.log(name)
            }
            // return obj
        }
        // this.property will be the key and the and the parameters we pass into the fn will be the value(s)
        // then we can create an object from the constructor
        const player1 = new Player("Steve", "X")
        console.log(player1.name) // "Steve"
        const player2 = new Player("Stephanie", "O")
        player1.sayName() // "Steve"
        player2.sayName() // "Stephanie"

        // lets look at object from another angle
        // every object in javascript has another object called prototype
        // the prototype is the obj where an obj inherits from
        // the obj has access to the prototype's methods and properties

        // when using constructors to create obj, 
        // it is best to define methods on the prototype
        // the only situation u are to define method in the constructor is
        // when the method use a local variable that is declared in the constructor
        // so all the methods created on the constructor prototype will be ...
        // available to all the objs created from the constructor
        function Student(name, grade) {
            this.name = name
            this.grade = grade
        }

        Student.prototype.sayName = function () {
            console.log(this.name)
        }
        Student.prototype.goToProm = function () {
            console.log("Eh. Go to prom?")
        }
        const studentOne = new Student("Susan", 9)
        console.log(studentOne.sayName()) // "Susan"
        const studentTwo = new Student("Juliet", 12)
        console.log(studentTwo.goToProm()) // "Eh. Go to prom?"

        // OBJECT.CREATE()
        // the recommended way of setting a prototype is using Object.create()

        function EightGrader(name) {
            this.name = name
            this.grade = 8
        }
        // we want EightGrader constructor to inherit the prototype of Student constructor
        EightGrader.prototype = Object.create(Student.prototype) // GOOD WAY

        // EightGrader.prototype = Student.prototype // BAD WAY
        // this will set EightGrader prototype to Student prototype 
        // and thats no what we want in most cases, we want to extend one protype to the other 

        
        // THIS
        // 'this' is use to reference the object tht is executed in the current function

        function test() {
            console.log(this)
        }
        test() // Window
        // this fn executed in the global context so the object here is Window 
        // ie 'this' == Window in global context
        // 'this' is reference to whatever object is calling the function

        // another examples

        const user = {
            firstName: "Patrick",
            lastName: "Scott",
            fullName: function() {
                console.log(this) // 
                console.log(this.firstName + " " + this.lastName)
            }
        }

        user.fullName()
        // {firstName: 'Patrick', lastName: 'Scott', fullName: Æ’}
        // Patrick Scott


    </script>
</body>

</html>